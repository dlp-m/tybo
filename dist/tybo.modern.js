import{Controller as e}from"@hotwired/stimulus";import{FetchRequest as t}from"@rails/request.js";class s extends e{async toggle(e){e.preventDefault();const s=new t(this.methodValue,this.urlValue,{responseKind:"turbo-stream",body:{attachment_id:this.attachmentIdValue}});await s.perform()}}s.values={url:String,method:String,attachmentId:Number};class n extends e{toggle(){this.menuTarget.classList.toggle("hidden")}}n.targets=["menu"];class i extends e{dismiss(){this.element.remove()}}class o extends e{changeType(e){this.getKindInput(e.target.selectedOptions[0].value,this.questionKindTarget)}getKindInput(e,t){fetch(`/admin/questions/kinds?type=${e}`,{method:"GET"}).then(e=>e.json()).then(e=>{t.options.length=0,e.unshift("");for(let s in e)t.options[t.options.length]=new Option(e[s][0],e[s][1]);this.displayChoiceBtn()})}changeKind(){this.displayChoiceBtn(),this.removeChoices()}removeChoices(){document.getElementById("choices").innerHTML=""}updateChoicePartial(){let e=this.choicesTarget;fetch(`/admin/questions/update_nested_form?type=${this.questionTypeTarget.selectedOptions[0].value}&kind=${this.questionKindTarget.selectedOptions[0].value}`,{method:"GET"}).then(e=>e.json()).then(t=>{e.innerHTML=t})}displayChoiceBtn(){let e=this.questionKindTarget.selectedOptions[0].value,t=this.questionTypeTarget.selectedOptions[0].value,s=document.getElementById("add-choice");Boolean(e)&&Boolean(t)&&"Questions::Input"!=t?s.classList.remove("hidden"):s.classList.add("hidden")}addQuestion(){this.newQuestionTargets[0].classList.remove("hidden"),location.hash="#newQuestion"}}o.targets=["questionKind","questionType","newQuestion","choices","documentType"];export{s as Attachments,n as Dropdown,i as Flash,o as Questions};
//# sourceMappingURL=tybo.modern.js.map
