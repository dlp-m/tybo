{"version":3,"file":"tybo.modern.js","sources":["../lib/app/javascript/controllers/attachments_controller.js","../lib/app/javascript/controllers/dropdown_controller.js","../lib/app/javascript/controllers/flash_controller.js","../lib/app/javascript/controllers/questions_controller.js"],"sourcesContent":["import { Controller } from \"@hotwired/stimulus\"\nimport { FetchRequest, patch } from '@rails/request.js'\n\nexport default class extends Controller {\n  static values = { url: String, method: String, attachmentId: Number }\n\n  async toggle(event) {\n    event.preventDefault()\n\n    const request = new FetchRequest(this.methodValue, this.urlValue, {responseKind: \"turbo-stream\", body: { attachment_id: this.attachmentIdValue}})\n    const response = await request.perform()\n    if (response.ok) {}\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = [\"menu\"]\n\n  toggle() {\n    this.menuTarget.classList.toggle(\"hidden\")\n    // this.element.textContent = \"Hello World!\"\n  }\n  // close() {\n  //   this.menuTarget.classList.add(\"hidden\")\n  // }\n}\n","import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n    dismiss() {\n        this.element.remove();\n    }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = ['questionKind', 'questionType', 'newQuestion', 'choices', 'documentType']\n\n  changeType(e) {\n    let questionType = e.target.selectedOptions[0].value\n    let kindInput = this.questionKindTarget\n    this.getKindInput(questionType, kindInput)\n  }\n\n\n  getKindInput(questionType, kindInput) {\n    fetch(`/admin/questions/kinds?type=${questionType}`, {\n      method: 'GET',\n    }).then(response => response.json())\n      .then(data => {\n        kindInput.options.length = 0 // reset options in select\n        data.unshift('')\n        for (let i in data) { // feed options in select with data array\n          kindInput.options[kindInput.options.length] = new Option(data[i][0], data[i][1]);\n        }\n        this.displayChoiceBtn()\n      })\n  }\n  changeKind() {\n    this.displayChoiceBtn()\n    this.removeChoices()\n  }\n\n  removeChoices() {\n    document.getElementById('choices').innerHTML = ''\n  }\n\n  updateChoicePartial() {\n    let questionKind = this.questionKindTarget.selectedOptions[0].value\n    let questionType = this.questionTypeTarget.selectedOptions[0].value\n    let choices = this.choicesTarget\n    fetch(`/admin/questions/update_nested_form?type=${questionType}&kind=${questionKind}`, {\n      method: 'GET',\n    }).then(response => response.json())\n      .then(data => {\n        choices.innerHTML = data\n      })\n  }\n  displayChoiceBtn() {\n    let questionKind = this.questionKindTarget.selectedOptions[0].value\n    let questionType = this.questionTypeTarget.selectedOptions[0].value\n    let btn = document.getElementById('add-choice')\n    if (Boolean(questionKind) && Boolean(questionType) && questionType != \"Questions::Input\") {\n      btn.classList.remove('hidden')\n    } else {\n      btn.classList.add('hidden')\n    }\n  }\n\n  addQuestion() {\n    this.newQuestionTargets[0].classList.remove('hidden')\n    location.hash = \"#\" + 'newQuestion';\n  }\n}\n"],"names":["Controller","async","event","preventDefault","this","methodValue","urlValue","responseKind","body","attachment_id","attachmentIdValue","request","perform","_class","values","url","String","method","attachmentId","Number","toggle","menuTarget","classList","targets","dismiss","element","remove","changeType","e","getKindInput","target","selectedOptions","value","questionKindTarget","questionType","kindInput","fetch","then","response","json","data","options","length","unshift","i","displayChoiceBtn","changeKind","removeChoices","document","getElementById","innerHTML","updateChoicePartial","choices","choicesTarget","questionTypeTarget","questionKind","btn","Boolean","add","addQuestion","newQuestionTargets","location","hash"],"mappings":"iHAGwCA,EAGtCC,aAAaC,GACXA,EAAMC,iBAEN,QAAgB,MAAiBC,KAAKC,YAAaD,KAAKE,SAAU,CAACC,aAAc,eAAgBC,KAAM,CAAEC,cAAeL,KAAKM,2BACtGC,EAAQC,SAEjC,EACDC,EATQC,OAAS,CAAEC,IAAKC,OAAQC,OAAQD,OAAQE,aAAcC,QCFhD,MAAAN,UAAyBb,EAGtCoB,SACEhB,KAAKiB,WAAWC,UAAUF,OAAO,SAEnC,EAIDP,EATQU,QAAU,CAAC,wBCDoBvB,EACpCwB,UACIpB,KAAKqB,QAAQC,QACjB,ECHW,MAAAb,YAGbc,WAAWC,GAGTxB,KAAKyB,aAFcD,EAAEE,OAAOC,gBAAgB,GAAGC,MAC/B5B,KAAK6B,mBAEvB,CAGAJ,aAAaK,EAAcC,GACzBC,MAAO,+BAA8BF,IAAgB,CACnDjB,OAAQ,QACPoB,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IACJL,EAAUM,QAAQC,OAAS,EAC3BF,EAAKG,QAAQ,IACb,IAAK,IAAIC,KAASJ,EAChBL,EAAUM,QAAQN,EAAUM,QAAQC,QAAU,WAAWF,EAAKI,GAAG,GAAIJ,EAAKI,GAAG,IAE/ExC,KAAKyC,kBACP,EACJ,CACAC,aACE1C,KAAKyC,mBACLzC,KAAK2C,eACP,CAEAA,gBACEC,SAASC,eAAe,WAAWC,UAAY,EACjD,CAEAC,sBACE,IAEIC,EAAUhD,KAAKiD,cACnBjB,MAAO,4CAFYhC,KAAKkD,mBAAmBvB,gBAAgB,GAAGC,cAD3C5B,KAAK6B,mBAAmBF,gBAAgB,GAAGC,QAGyB,CACrFf,OAAQ,QACPoB,KAAKC,GAAYA,EAASC,QAC1BF,KAAKG,IACJY,EAAQF,UAAYV,GAE1B,CACAK,mBACE,IAAIU,EAAenD,KAAK6B,mBAAmBF,gBAAgB,GAAGC,MAC1DE,EAAe9B,KAAKkD,mBAAmBvB,gBAAgB,GAAGC,MAC1DwB,EAAMR,SAASC,eAAe,cAC9BQ,QAAQF,IAAiBE,QAAQvB,IAAiC,oBAAhBA,EACpDsB,EAAIlC,UAAUI,OAAO,UAErB8B,EAAIlC,UAAUoC,IAAI,SAEtB,CAEAC,cACEvD,KAAKwD,mBAAmB,GAAGtC,UAAUI,OAAO,UAC5CmC,SAASC,KAAO,cAClB,EACDjD,EAzDQU,QAAU,CAAC,eAAgB,eAAgB,cAAe,UAAW"}