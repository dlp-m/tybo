import{Controller as t}from"@hotwired/stimulus";import{FetchRequest as e}from"@rails/request.js";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}var i=/*#__PURE__*/function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.toggle=function(t){try{var n=this;t.preventDefault();var o=new e(n.methodValue,n.urlValue,{responseKind:"turbo-stream",body:{attachment_id:n.attachmentIdValue}});return Promise.resolve(o.perform()).then(function(t){})}catch(t){return Promise.reject(t)}},o}(t);i.values={url:String,method:String,attachmentId:Number};var s=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.toggle=function(){this.menuTarget.classList.toggle("hidden")},e}(t);s.targets=["menu"];var r=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.dismiss=function(){this.element.remove()},e}(t),u=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.changeType=function(t){this.getKindInput(t.target.selectedOptions[0].value,this.questionKindTarget)},o.getKindInput=function(t,e){var n=this;fetch("/admin/questions/kinds?type="+t,{method:"GET"}).then(function(t){return t.json()}).then(function(t){for(var o in e.options.length=0,t.unshift(""),t)e.options[e.options.length]=new Option(t[o][0],t[o][1]);n.displayChoiceBtn()})},o.changeKind=function(){this.displayChoiceBtn(),this.removeChoices()},o.removeChoices=function(){document.getElementById("choices").innerHTML=""},o.updateChoicePartial=function(){var t=this.choicesTarget;fetch("/admin/questions/update_nested_form?type="+this.questionTypeTarget.selectedOptions[0].value+"&kind="+this.questionKindTarget.selectedOptions[0].value,{method:"GET"}).then(function(t){return t.json()}).then(function(e){t.innerHTML=e})},o.displayChoiceBtn=function(){var t=this.questionKindTarget.selectedOptions[0].value,e=this.questionTypeTarget.selectedOptions[0].value,n=document.getElementById("add-choice");Boolean(t)&&Boolean(e)&&"Questions::Input"!=e?n.classList.remove("hidden"):n.classList.add("hidden")},o.addQuestion=function(){this.newQuestionTargets[0].classList.remove("hidden"),location.hash="#newQuestion"},e}(t);u.targets=["questionKind","questionType","newQuestion","choices","documentType"];export{i as Attachments,s as Dropdown,r as Flash,u as Questions};
//# sourceMappingURL=tybo.module.js.map
