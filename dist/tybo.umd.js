!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@hotwired/stimulus"),require("@rails/request.js")):"function"==typeof define&&define.amd?define(["exports","@hotwired/stimulus","@rails/request.js"],e):e((t||self).tybo={},t.Stimulus,t.request_js)}(this,function(t,e,n){function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}var s=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.toggle=function(t){try{var e=this;t.preventDefault();var o=new n.FetchRequest(e.methodValue,e.urlValue,{responseKind:"turbo-stream",body:{attachment_id:e.attachmentIdValue}});return Promise.resolve(o.perform()).then(function(t){})}catch(t){return Promise.reject(t)}},e}(e.Controller);s.values={url:String,method:String,attachmentId:Number};var r=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.toggle=function(){this.menuTarget.classList.toggle("hidden")},e}(e.Controller);r.targets=["menu"];var u=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.dismiss=function(){this.element.remove()},e}(e.Controller),c=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.changeType=function(t){this.getKindInput(t.target.selectedOptions[0].value,this.questionKindTarget)},n.getKindInput=function(t,e){var n=this;fetch("/admin/questions/kinds?type="+t,{method:"GET"}).then(function(t){return t.json()}).then(function(t){for(var o in e.options.length=0,t.unshift(""),t)e.options[e.options.length]=new Option(t[o][0],t[o][1]);n.displayChoiceBtn()})},n.changeKind=function(){this.displayChoiceBtn(),this.removeChoices()},n.removeChoices=function(){document.getElementById("choices").innerHTML=""},n.updateChoicePartial=function(){var t=this.choicesTarget;fetch("/admin/questions/update_nested_form?type="+this.questionTypeTarget.selectedOptions[0].value+"&kind="+this.questionKindTarget.selectedOptions[0].value,{method:"GET"}).then(function(t){return t.json()}).then(function(e){t.innerHTML=e})},n.displayChoiceBtn=function(){var t=this.questionKindTarget.selectedOptions[0].value,e=this.questionTypeTarget.selectedOptions[0].value,n=document.getElementById("add-choice");Boolean(t)&&Boolean(e)&&"Questions::Input"!=e?n.classList.remove("hidden"):n.classList.add("hidden")},n.addQuestion=function(){this.newQuestionTargets[0].classList.remove("hidden"),location.hash="#newQuestion"},e}(e.Controller);c.targets=["questionKind","questionType","newQuestion","choices","documentType"],t.Attachments=s,t.Dropdown=r,t.Flash=u,t.Questions=c});
//# sourceMappingURL=tybo.umd.js.map
