<div data-controller="sidebar">
  <!-- Barre de navigation mobile avec bouton d'ouverture du menu -->
  <div class="sticky top-0 z-40 flex items-center h-16 px-4 border-b border-gray-200 shadow-sm bg-tybo lg:hidden shrink-0 gap-x-4 sm:gap-x-6 sm:px-6 lg:px-8">
    <button type="button" class="-m-2.5 p-2.5 text-white lg:hidden" data-action="click->sidebar#toggle">
      <span class="sr-only">Open sidebar</span>
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
      </svg>
    </button>
  </div>
  <!-- Sidebar mobile avec bouton de fermeture -->
  <div class="fixed inset-0 z-50 transition-transform duration-300 ease-in-out transform -translate-x-full" data-sidebar-target="sidebar">
    <div class="fixed inset-0 bg-gray-900/80 " aria-hidden="true" data-sidebar-target="bg"></div>
    <div class="fixed inset-0 flex">
      <div class="relative flex flex-1 w-full max-w-xs mr-16">
        <div class="absolute top-0 flex justify-center w-16 pt-5 left-full">
          <button type="button" class="-m-2.5 p-2.5" data-action="click->sidebar#close">
            <span class="sr-only">Close sidebar</span>
            <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <!-- Contenu de la sidebar -->
        <div class="flex flex-col px-6 pb-4 overflow-y-auto bg-tybo-600 grow gap-y-5">
          <div class="flex items-center h-16 shrink-0">
            <%= image_tag(Tybo.configuration.nav_logo_url, alt: "logo", class: 'w-auto h-15 mt-5') %>
          </div>
          <nav class="flex flex-col flex-1">
            <ul role="list" class="flex flex-col flex-1 gap-y-7">
              <li>
                <ul role="list" class="-mx-2 space-y-1">
                  <% items.each do |item| %>
                    <%= item %>
                  <% end %>
                </ul>
              </li>
              <li class="mt-auto">
                <% if current_user_card? %>
                  <%= current_user_card %>
                <% end %>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
  <!-- Static sidebar pour desktop -->
  <div class="sm:hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col">
    <div class="flex flex-col px-6 pb-4 overflow-y-auto bg-tybo-600 grow gap-y-5">
      <div class="flex items-center h-16 shrink-0">
        <%= image_tag(Tybo.configuration.nav_logo_url, alt: "logo", class: 'w-auto h-15 mt-5') %>
      </div>
      <nav class="flex flex-col flex-1">
        <ul role="list" class="flex flex-col flex-1 gap-y-7">
          <li>
            <ul role="list" class="-mx-2 space-y-1">
              <% items.each do |item| %>
                <%= item %>
              <% end %>
            </ul>
          </li>
          <li class="mt-auto">
            <% if current_user_card? %>
              <%= current_user_card %>
            <% end %>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
